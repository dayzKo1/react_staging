{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AAA\\\\Desktop\\\\react_staging\\\\my-app\\\\src\\\\pages\\\\BattleResult\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport MyCard from \"../../components/MyCard\";\nimport { Container, Row, Col } from 'react-bootstrap';\nimport './index.css'; //比较结果展示\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BattleResult extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playerOne: {\n        owner: {\n          avatar_url: \"\"\n        },\n        stargazers_count: 0\n      },\n      playerTwo: {\n        owner: {\n          avatar_url: \"\"\n        },\n        stargazers_count: 0\n      },\n      winner: \"\"\n    };\n    this.resetTo = this.resetTo.bind(this);\n    this.fetchGet = this.fetchGet.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGet();\n  }\n\n  async fetchGet() {\n    // console.log(this.props);\n    let playerOne = {};\n    let playerTwo = {};\n\n    if (this.props.location.state) {\n      console.log(this.props.location.state);\n      playerOne = this.props.location.state.playerOne;\n      playerTwo = this.props.location.state.playerTwo;\n    } else {\n      let obj = {};\n\n      if (window.location.href.includes(\"?\")) {\n        let arr = window.location.href.split(\"?\")[1].split(\"&\");\n\n        for (let i = 0; i < arr.length; i++) {\n          let res = arr[i].split(\"=\");\n          obj[res[0]] = res[1];\n        }\n      }\n\n      const {\n        user1,\n        user2\n      } = obj;\n      const urlOne = `https://api.github.com/search/repositories?q=${user1}`;\n      const urlTwo = `https://api.github.com/search/repositories?q=${user2}`;\n      const resOne = await axios.get(urlOne);\n      const resTwo = await axios.get(urlTwo);\n      playerOne = resOne.data.items[0];\n      playerTwo = resTwo.data.items[0];\n    }\n\n    let winner = \"\";\n\n    if (playerOne.stargazers_count > playerTwo.stargazers_count) {\n      winner = playerOne.name;\n    } else if (playerOne.stargazers_count < playerTwo.stargazers_count) {\n      winner = playerTwo.name;\n    }\n\n    this.setState({\n      winner,\n      playerOne,\n      playerTwo\n    });\n  }\n\n  resetTo() {\n    this.props.history.push({\n      pathname: \"/Battle\"\n    });\n  }\n\n  render() {\n    const {\n      playerOne,\n      playerTwo,\n      winner\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 6,\n          md: 6,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(MyCard, {\n            listNum: winner === playerOne.name ? \"Winner\" : winner === \"\" ? \"Draw\" : \"Loser\",\n            name: playerOne.name,\n            avatar: playerOne.owner.avatar_url,\n            starsCount: playerOne.stargazers_count,\n            forksCount: playerOne.forks_count,\n            openIssuesCount: playerOne.open_issues_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          lg: 6,\n          md: 6,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(MyCard, {\n            listNum: winner === playerTwo.name ? \"Winner\" : winner === \"\" ? \"Draw\" : \"Loser\",\n            name: playerTwo.name,\n            avatar: playerTwo.owner.avatar_url,\n            starsCount: playerTwo.stargazers_count,\n            forksCount: playerTwo.forks_count,\n            openIssuesCount: playerTwo.open_issues_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          textAlign: 'center'\n        },\n        onClick: this.resetTo,\n        className: \"reget_btn\",\n        children: \"\\u518D\\u6765\\u4E00\\u6B21\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/AAA/Desktop/react_staging/my-app/src/pages/BattleResult/index.jsx"],"names":["React","Component","axios","MyCard","Container","Row","Col","BattleResult","constructor","props","state","playerOne","owner","avatar_url","stargazers_count","playerTwo","winner","resetTo","bind","fetchGet","componentDidMount","location","console","log","obj","window","href","includes","arr","split","i","length","res","user1","user2","urlOne","urlTwo","resOne","get","resTwo","data","items","name","setState","history","push","pathname","render","forks_count","open_issues_count","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport axios from \"axios\";\r\nimport MyCard from \"../../components/MyCard\";\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport './index.css'\r\n//比较结果展示\r\nexport default class BattleResult extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playerOne: {\r\n        owner: {\r\n          avatar_url: \"\",\r\n        },\r\n        stargazers_count: 0,\r\n      },\r\n      playerTwo: {\r\n        owner: {\r\n          avatar_url: \"\",\r\n        },\r\n        stargazers_count: 0,\r\n      },\r\n      winner: \"\",\r\n    };\r\n    this.resetTo = this.resetTo.bind(this);\r\n    this.fetchGet = this.fetchGet.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.fetchGet();\r\n  }\r\n  async fetchGet() {\r\n    // console.log(this.props);\r\n    let playerOne = {}\r\n    let playerTwo = {}\r\n    if (this.props.location.state) {\r\n      console.log(this.props.location.state);\r\n      playerOne = this.props.location.state.playerOne;\r\n      playerTwo = this.props.location.state.playerTwo\r\n    } else {\r\n      let obj = {};\r\n      if (window.location.href.includes(\"?\")) {\r\n        let arr = window.location.href.split(\"?\")[1].split(\"&\");\r\n        for (let i = 0; i < arr.length; i++) {\r\n          let res = arr[i].split(\"=\");\r\n          obj[res[0]] = res[1];\r\n        }\r\n      }\r\n      const { user1, user2 } = obj;\r\n      const urlOne = `https://api.github.com/search/repositories?q=${user1}`;\r\n      const urlTwo = `https://api.github.com/search/repositories?q=${user2}`;\r\n      const resOne = await axios.get(urlOne);\r\n      const resTwo = await axios.get(urlTwo);\r\n      playerOne = resOne.data.items[0];\r\n      playerTwo = resTwo.data.items[0];\r\n    }\r\n    let winner = \"\";\r\n    if (playerOne.stargazers_count > playerTwo.stargazers_count) {\r\n      winner = playerOne.name;\r\n    } else if (playerOne.stargazers_count < playerTwo.stargazers_count) {\r\n      winner = playerTwo.name;\r\n    }\r\n    this.setState({\r\n      winner,\r\n      playerOne,\r\n      playerTwo,\r\n    });\r\n  }\r\n  resetTo() {\r\n    this.props.history.push({ pathname: \"/Battle\" });\r\n  }\r\n  render() {\r\n    const { playerOne, playerTwo, winner } = this.state;\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col lg={6} md={6} sm={6}>\r\n            <MyCard\r\n              listNum={\r\n                winner === playerOne.name\r\n                  ? \"Winner\"\r\n                  : winner === \"\"\r\n                    ? \"Draw\"\r\n                    : \"Loser\"\r\n              }\r\n              name={playerOne.name}\r\n              avatar={playerOne.owner.avatar_url}\r\n              starsCount={playerOne.stargazers_count}\r\n              forksCount={playerOne.forks_count}\r\n              openIssuesCount={playerOne.open_issues_count}\r\n            />\r\n          </Col>\r\n          <Col lg={6} md={6} sm={6}>\r\n            <MyCard\r\n              listNum={\r\n                winner === playerTwo.name\r\n                  ? \"Winner\"\r\n                  : winner === \"\"\r\n                    ? \"Draw\"\r\n                    : \"Loser\"\r\n              }\r\n              name={playerTwo.name}\r\n              avatar={playerTwo.owner.avatar_url}\r\n              starsCount={playerTwo.stargazers_count}\r\n              forksCount={playerTwo.forks_count}\r\n              openIssuesCount={playerTwo.open_issues_count}\r\n            />\r\n          </Col>\r\n        </Row>\r\n    \r\n            <button style={{textAlign:'center'}}onClick={this.resetTo} className=\"reget_btn\">\r\n              再来一次\r\n            </button>\r\n      \r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}