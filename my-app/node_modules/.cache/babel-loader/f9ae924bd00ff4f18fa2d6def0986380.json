{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react-staging\\\\my-app\\\\src\\\\pages\\\\Battle\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./index.css\"; //初始页面\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BattleBegin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPlayerOne = async () => {\n      //得到Player One输入框的值\n      const inputOne = this.refs.inputOne.value; //判断是否为空\n\n      if (inputOne.match(/^[ ]*$/)) {\n        alert(\"请确认Player One是否已输入\");\n        this.refs.inputOne.value = \"\";\n        return;\n      } //得到Player One的url\n\n\n      const urlOne = `https://api.github.com/search/repositories?q=${inputOne}`; //开始查找\n\n      this.setState({\n        loadingOne: true\n      });\n\n      try {\n        const res = await axios.get(urlOne); //判断返回值是否为空\n\n        if (res.data.total_count === 0) {\n          this.setState({\n            notFoundPlayerOne: true\n          });\n          this.refs.inputOne.value = \"\";\n          return;\n        } //返回值不为空，调用Battle里的setPlayerOne函数存值\n\n\n        this.props.setPlayerOne(res.data.items[0]); //标识已找到\n\n        this.setState({\n          isOne: true,\n          notFoundPlayerOne: false,\n          errorOne: false\n        });\n      } catch (e) {\n        if (e.response) {\n          console.log(\"getPlayerOne: \", e.response.data.message);\n          this.setState({\n            errorOne: true,\n            errorOneMessage: e.response.data.message\n          });\n        }\n      }\n\n      this.setState({\n        loadingOne: false\n      });\n    };\n\n    this.findOneAgain = () => {\n      this.props.setPlayerOne({});\n      this.setState({\n        isOne: false\n      });\n    };\n\n    this.getPlayerTwo = async () => {\n      const inputTwo = this.refs.inputTwo.value;\n\n      if (inputTwo.match(/^[ ]*$/)) {\n        alert(\"请确认Player Two是否已输入\");\n        this.refs.inputTwo.value = \"\";\n        return;\n      }\n\n      const urlTwo = `https://api.github.com/search/repositories?q=${inputTwo}`;\n      this.setState({\n        loadingTwo: true\n      });\n\n      try {\n        const res = await axios.get(urlTwo);\n\n        if (res.data.total_count === 0) {\n          this.setState({\n            notFoundPlayerTwo: true\n          });\n          this.refs.inputTwo.value = \"\";\n          return;\n        }\n\n        this.props.setPlayerTwo(res.data.items[0]);\n        this.setState({\n          isTwo: true,\n          notFoundPlayerTwo: false,\n          errorTwo: false\n        });\n      } catch (e) {\n        if (e.response) {\n          console.log(\"getPlayerTwo: \", e.response.data.message);\n          this.setState({\n            errorTwo: true,\n            errorTwoMessage: e.response.data.message\n          });\n        }\n      }\n\n      this.setState({\n        loadingTwo: false\n      });\n    };\n\n    this.findTwoAgain = () => {\n      this.props.setPlayerTwo({});\n      this.setState({\n        isTwo: false\n      });\n    };\n\n    this.oneInputChange = () => {\n      const inputOne = this.refs.inputOne.value;\n\n      if (inputOne.match(/^[ ]*$/)) {\n        this.refs.submitOne.className = \"submit_btn disabled_btn\";\n        return;\n      }\n\n      this.refs.submitOne.className = \"submit_btn\";\n    };\n\n    this.twoInputChange = () => {\n      const inputTwo = this.refs.inputTwo.value;\n\n      if (inputTwo.match(/^[ ]*$/)) {\n        this.refs.submitTwo.className = \"submit_btn disabled_btn\";\n        return;\n      }\n\n      this.refs.submitTwo.className = \"submit_btn\";\n    };\n\n    this.oneEnter = e => {\n      if (e.key === \"Enter\") {\n        this.getPlayerOne();\n      }\n    };\n\n    this.twoEnter = e => {\n      if (e.key === \"Enter\") {\n        this.getPlayerTwo();\n      }\n    };\n\n    this.state = {\n      isOne: false,\n      isTwo: false,\n      loadingOne: false,\n      loadingTwo: false,\n      notFoundPlayerOne: false,\n      notFoundPlayerTwo: false,\n      errorOne: false,\n      errorTwo: false,\n      errorOneMessage: \"\",\n      errorTwoMessage: \"\"\n    };\n  } //查找Player One\n\n\n  render() {\n    const faIconStyle = {\n      iFont: {\n        fontSize: 200\n      },\n      iFontDel: {\n        fontSize: 20\n      },\n      getImg: {\n        width: \"50px\",\n        height: \"50px\",\n        margin: \"5px\"\n      }\n    };\n    const divCenterStyle = {\n      textAlign: \"center\",\n      marginBottom: \"20px\"\n    };\n    const {\n      playerOne,\n      playerTwo\n    } = this.props;\n    const {\n      isOne,\n      isTwo,\n      loadingOne,\n      loadingTwo,\n      notFoundPlayerOne,\n      notFoundPlayerTwo,\n      errorOne,\n      errorOneMessage,\n      errorTwo,\n      errorTwoMessage\n    } = this.state;\n    let renderInfoOne;\n    let renderInfoTwo;\n\n    if (notFoundPlayerOne) {\n      renderInfoOne = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          fontSize: \"14px\",\n          marginTop: \"5px\"\n        },\n        children: \"\\u672A\\u627E\\u5230\\u8BE5\\u7528\\u6237\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this);\n    } else if (errorOne) {\n      renderInfoOne = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          fontSize: \"14px\",\n          marginTop: \"5px\",\n          width: \"300px\"\n        },\n        children: errorOneMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (notFoundPlayerTwo) {\n      renderInfoTwo = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          fontSize: \"14px\",\n          marginTop: \"5px\"\n        },\n        children: \"\\u672A\\u627E\\u5230\\u8BE5\\u7528\\u6237\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this);\n    } else if (errorTwo) {\n      renderInfoTwo = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          fontSize: \"14px\",\n          marginTop: \"5px\",\n          width: \"300px\"\n        },\n        children: errorTwoMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: divCenterStyle,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-wrap flex-space-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: divCenterStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"instruction_content\",\n            style: divCenterStyle,\n            children: \"Enter Two Github Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-users \",\n            style: { ...faIconStyle.iFont,\n              color: \"rgb(241, 149, 43)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: divCenterStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"instruction_content\",\n            style: divCenterStyle,\n            children: \"Battle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-fighter-jet\",\n            style: { ...faIconStyle.iFont,\n              color: \"rgb(134, 129, 129)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: divCenterStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"instruction_content\",\n            style: divCenterStyle,\n            children: \"See The Winner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-trophy\",\n            style: { ...faIconStyle.iFont,\n              color: \"rgb(255, 223, 54)\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: divCenterStyle,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: \"40px\"\n          },\n          children: \"Players\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-wrap flex-space-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"players_content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"20px 0\"\n            },\n            children: \"Player One\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), loadingOne ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u6B63\\u5728\\u67E5\\u627E\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-spinner fa-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this) : isOne ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"showPlayer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: playerOne.owner.avatar_url,\n              alt: playerOne.name,\n              style: faIconStyle.getImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), playerOne.name, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.findOneAgain,\n              className: \"delete_btn\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-times-circle\",\n                style: { ...faIconStyle.iFontDel,\n                  color: \"rgb(194, 57, 42)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"inputOne\",\n              placeholder: \"github username\",\n              className: \"player_input\",\n              onChange: this.oneInputChange,\n              onKeyDown: this.oneEnter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.getPlayerOne,\n              className: \"submit_btn disabled_btn\",\n              ref: \"submitOne\",\n              children: \"S U B M I T\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: renderInfoOne\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"players_content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"20px 0\"\n            },\n            children: \"Player Two\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), loadingTwo ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u6B63\\u5728\\u67E5\\u627E\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-spinner fa-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this) : isTwo ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"showPlayer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: playerTwo.owner.avatar_url,\n              alt: playerTwo.name,\n              style: faIconStyle.getImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), playerTwo.name, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.findTwoAgain,\n              className: \"delete_btn\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-times-circle\",\n                style: { ...faIconStyle.iFontDel,\n                  color: \"rgb(194, 57, 42)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"inputTwo\",\n              placeholder: \"github username\",\n              className: \"player_input\",\n              onChange: this.twoInputChange,\n              onKeyDown: this.twoEnter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.getPlayerTwo,\n              className: \"submit_btn disabled_btn\",\n              ref: \"submitTwo\",\n              children: \"S U B M I T\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: renderInfoTwo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), isOne && isTwo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: divCenterStyle,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: {\n            pathname: `/BattleEnd`,\n            search: `?user1=${playerOne.name}&user2=${playerTwo.name}`,\n            state: {\n              playerOne,\n              playerTwo\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"battle_btn\",\n            children: \"Battle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this);\n  }\n\n} //Battle\n\n\nclass Battle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setPlayerOne = oneData => {\n      this.setState({\n        playerOne: oneData\n      });\n    };\n\n    this.setPlayerTwo = twoData => {\n      this.setState({\n        playerTwo: twoData\n      });\n    };\n\n    this.state = {\n      playerOne: {},\n      //存储第一个数据\n      playerTwo: {} //存储第二个数据\n\n    };\n  } //通过参数设置存储第一个数据\n\n\n  render() {\n    const {\n      playerOne,\n      playerTwo\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(BattleBegin, {\n        setPlayerOne: this.setPlayerOne,\n        setPlayerTwo: this.setPlayerTwo,\n        playerOne: playerOne,\n        playerTwo: playerTwo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/react-staging/my-app/src/pages/Battle/index.jsx"],"names":["React","Component","Link","axios","BattleBegin","constructor","props","getPlayerOne","inputOne","refs","value","match","alert","urlOne","setState","loadingOne","res","get","data","total_count","notFoundPlayerOne","setPlayerOne","items","isOne","errorOne","e","response","console","log","message","errorOneMessage","findOneAgain","getPlayerTwo","inputTwo","urlTwo","loadingTwo","notFoundPlayerTwo","setPlayerTwo","isTwo","errorTwo","errorTwoMessage","findTwoAgain","oneInputChange","submitOne","className","twoInputChange","submitTwo","oneEnter","key","twoEnter","state","render","faIconStyle","iFont","fontSize","iFontDel","getImg","width","height","margin","divCenterStyle","textAlign","marginBottom","playerOne","playerTwo","renderInfoOne","renderInfoTwo","color","marginTop","owner","avatar_url","name","pathname","search","Battle","oneData","twoData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Link,}from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./index.css\";\r\n\r\n//初始页面\r\nclass BattleBegin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOne: false,\r\n      isTwo: false,\r\n      loadingOne: false,\r\n      loadingTwo: false,\r\n      notFoundPlayerOne: false,\r\n      notFoundPlayerTwo: false,\r\n      errorOne: false,\r\n      errorTwo: false,\r\n      errorOneMessage: \"\",\r\n      errorTwoMessage: \"\",\r\n    };\r\n  }\r\n  //查找Player One\r\n  getPlayerOne = async () => {\r\n    //得到Player One输入框的值\r\n    const inputOne = this.refs.inputOne.value;\r\n    //判断是否为空\r\n    if (inputOne.match(/^[ ]*$/)) {\r\n      alert(\"请确认Player One是否已输入\");\r\n      this.refs.inputOne.value = \"\";\r\n      return;\r\n    }\r\n    //得到Player One的url\r\n    const urlOne = `https://api.github.com/search/repositories?q=${inputOne}`;\r\n    //开始查找\r\n    this.setState({ loadingOne: true });\r\n    try {\r\n      const res = await axios.get(urlOne);\r\n      //判断返回值是否为空\r\n      if (res.data.total_count === 0) {\r\n        this.setState({\r\n          notFoundPlayerOne: true,\r\n        });\r\n        this.refs.inputOne.value = \"\";\r\n        return;\r\n      }\r\n      //返回值不为空，调用Battle里的setPlayerOne函数存值\r\n      this.props.setPlayerOne(res.data.items[0]);\r\n      //标识已找到\r\n      this.setState({ isOne: true, notFoundPlayerOne: false, errorOne: false });\r\n    } catch (e) {\r\n      if (e.response) {\r\n        console.log(\"getPlayerOne: \", e.response.data.message);\r\n        this.setState({\r\n          errorOne: true,\r\n          errorOneMessage: e.response.data.message,\r\n        });\r\n      }\r\n    }\r\n    this.setState({ loadingOne: false });\r\n  };\r\n  //重新查找Player One\r\n  findOneAgain = () => {\r\n    this.props.setPlayerOne({});\r\n    this.setState({ isOne: false });\r\n  };\r\n  //查找Player Two\r\n  getPlayerTwo = async () => {\r\n    const inputTwo = this.refs.inputTwo.value;\r\n    if (inputTwo.match(/^[ ]*$/)) {\r\n      alert(\"请确认Player Two是否已输入\");\r\n      this.refs.inputTwo.value = \"\";\r\n      return;\r\n    }\r\n    const urlTwo = `https://api.github.com/search/repositories?q=${inputTwo}`;\r\n    this.setState({ loadingTwo: true });\r\n    try {\r\n      const res = await axios.get(urlTwo);\r\n      if (res.data.total_count === 0) {\r\n        this.setState({\r\n          notFoundPlayerTwo: true,\r\n        });\r\n        this.refs.inputTwo.value = \"\";\r\n        return;\r\n      }\r\n      this.props.setPlayerTwo(res.data.items[0]);\r\n      this.setState({ isTwo: true, notFoundPlayerTwo: false, errorTwo: false });\r\n    } catch (e) {\r\n      if (e.response) {\r\n        console.log(\"getPlayerTwo: \", e.response.data.message);\r\n        this.setState({\r\n          errorTwo: true,\r\n          errorTwoMessage: e.response.data.message,\r\n        });\r\n      }\r\n    }\r\n    this.setState({ loadingTwo: false });\r\n  };\r\n  findTwoAgain = () => {\r\n    this.props.setPlayerTwo({});\r\n    this.setState({ isTwo: false });\r\n  };\r\n  //输入框里的值为空时Submit不可点击\r\n  oneInputChange = () => {\r\n    const inputOne = this.refs.inputOne.value;\r\n    if (inputOne.match(/^[ ]*$/)) {\r\n      this.refs.submitOne.className = \"submit_btn disabled_btn\";\r\n      return;\r\n    }\r\n    this.refs.submitOne.className = \"submit_btn\";\r\n  };\r\n  twoInputChange = () => {\r\n    const inputTwo = this.refs.inputTwo.value;\r\n    if (inputTwo.match(/^[ ]*$/)) {\r\n      this.refs.submitTwo.className = \"submit_btn disabled_btn\";\r\n      return;\r\n    }\r\n    this.refs.submitTwo.className = \"submit_btn\";\r\n  };\r\n  //当焦点在Player One的输入框并按下enter键时\r\n  oneEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      this.getPlayerOne();\r\n    }\r\n  };\r\n  //当焦点在Player Two\r\n  twoEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      this.getPlayerTwo();\r\n    }\r\n  };\r\n  render() {\r\n    const faIconStyle = {\r\n      iFont: {\r\n        fontSize: 200,\r\n      },\r\n      iFontDel: {\r\n        fontSize: 20,\r\n      },\r\n      getImg: {\r\n        width: \"50px\",\r\n        height: \"50px\",\r\n        margin: \"5px\",\r\n      },\r\n    };\r\n    const divCenterStyle = {\r\n      textAlign: \"center\",\r\n      marginBottom: \"20px\",\r\n    };\r\n    const { playerOne, playerTwo } = this.props;\r\n    const {\r\n      isOne,\r\n      isTwo,\r\n      loadingOne,\r\n      loadingTwo,\r\n      notFoundPlayerOne,\r\n      notFoundPlayerTwo,\r\n      errorOne,\r\n      errorOneMessage,\r\n      errorTwo,\r\n      errorTwoMessage,\r\n    } = this.state;\r\n    let renderInfoOne;\r\n    let renderInfoTwo;\r\n    if (notFoundPlayerOne) {\r\n      renderInfoOne = (\r\n        <p style={{ color: \"red\", fontSize: \"14px\", marginTop: \"5px\" }}>\r\n          未找到该用户\r\n        </p>\r\n      );\r\n    } else if (errorOne) {\r\n      renderInfoOne = (\r\n        <p\r\n          style={{\r\n            color: \"red\",\r\n            fontSize: \"14px\",\r\n            marginTop: \"5px\",\r\n            width: \"300px\",\r\n          }}\r\n        >\r\n          {errorOneMessage}\r\n        </p>\r\n      );\r\n    }\r\n    if (notFoundPlayerTwo) {\r\n      renderInfoTwo = (\r\n        <p style={{ color: \"red\", fontSize: \"14px\", marginTop: \"5px\" }}>\r\n          未找到该用户\r\n        </p>\r\n      );\r\n    } else if (errorTwo) {\r\n      renderInfoTwo = (\r\n        <p\r\n          style={{\r\n            color: \"red\",\r\n            fontSize: \"14px\",\r\n            marginTop: \"5px\",\r\n            width: \"300px\",\r\n          }}\r\n        >\r\n          {errorTwoMessage}\r\n        </p>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <div style={divCenterStyle}>\r\n          <h1>Instructions</h1>\r\n        </div>\r\n        <div className=\"d-flex flex-wrap flex-space-around\">\r\n          <div style={divCenterStyle}>\r\n            <div className=\"instruction_content\" style={divCenterStyle}>\r\n              Enter Two Github Users\r\n            </div>\r\n            <i\r\n              className=\"fa fa-users \"\r\n              style={{ ...faIconStyle.iFont, color: \"rgb(241, 149, 43)\" }}\r\n            ></i>\r\n          </div>\r\n          <div style={divCenterStyle}>\r\n            <div className=\"instruction_content\" style={divCenterStyle}>\r\n              Battle\r\n            </div>\r\n            <i\r\n              className=\"fa fa-fighter-jet\"\r\n              style={{ ...faIconStyle.iFont, color: \"rgb(134, 129, 129)\" }}\r\n            ></i>\r\n          </div>\r\n          <div style={divCenterStyle}>\r\n            <div className=\"instruction_content\" style={divCenterStyle}>\r\n              See The Winner\r\n            </div>\r\n            <i\r\n              className=\"fa fa-trophy\"\r\n              style={{ ...faIconStyle.iFont, color: \"rgb(255, 223, 54)\" }}\r\n            ></i>\r\n          </div>\r\n        </div>\r\n        <div style={divCenterStyle}>\r\n          <h1 style={{ marginTop: \"40px\" }}>Players</h1>\r\n        </div>\r\n        <div className=\"d-flex flex-wrap flex-space-around\">\r\n          <div className=\"players_content\">\r\n            <div style={{ margin: \"20px 0\" }}>Player One</div>\r\n            {loadingOne ? (\r\n              <div>\r\n                正在查找\r\n                <i className=\"fa fa-spinner fa-spin\"></i>\r\n              </div>\r\n            ) : isOne ? (\r\n              <div className=\"showPlayer\">\r\n                <img\r\n                  src={playerOne.owner.avatar_url}\r\n                  alt={playerOne.name}\r\n                  style={faIconStyle.getImg}\r\n                />\r\n                {playerOne.name}\r\n                <button onClick={this.findOneAgain} className=\"delete_btn\">\r\n                  <i\r\n                    className=\"fa fa-times-circle\"\r\n                    style={{\r\n                      ...faIconStyle.iFontDel,\r\n                      color: \"rgb(194, 57, 42)\",\r\n                    }}\r\n                  ></i>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <input\r\n                  ref=\"inputOne\"\r\n                  placeholder=\"github username\"\r\n                  className=\"player_input\"\r\n                  onChange={this.oneInputChange}\r\n                  onKeyDown={this.oneEnter}\r\n                ></input>\r\n                <button\r\n                  onClick={this.getPlayerOne}\r\n                  className=\"submit_btn disabled_btn\"\r\n                  ref=\"submitOne\"\r\n                >\r\n                  S U B M I T\r\n                </button>\r\n                <div>{renderInfoOne}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"players_content\">\r\n            <div style={{ margin: \"20px 0\" }}>Player Two</div>\r\n            {loadingTwo ? (\r\n              <div>\r\n                正在查找\r\n                <i className=\"fa fa-spinner fa-spin\"></i>\r\n              </div>\r\n            ) : isTwo ? (\r\n              <div className=\"showPlayer\">\r\n                <img\r\n                  src={playerTwo.owner.avatar_url}\r\n                  alt={playerTwo.name}\r\n                  style={faIconStyle.getImg}\r\n                />\r\n                {playerTwo.name}\r\n                <button onClick={this.findTwoAgain} className=\"delete_btn\">\r\n                  <i\r\n                    className=\"fa fa-times-circle\"\r\n                    style={{\r\n                      ...faIconStyle.iFontDel,\r\n                      color: \"rgb(194, 57, 42)\",\r\n                    }}\r\n                  ></i>\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <input\r\n                  ref=\"inputTwo\"\r\n                  placeholder=\"github username\"\r\n                  className=\"player_input\"\r\n                  onChange={this.twoInputChange}\r\n                  onKeyDown={this.twoEnter}\r\n                ></input>\r\n                <button\r\n                  onClick={this.getPlayerTwo}\r\n                  className=\"submit_btn disabled_btn\"\r\n                  ref=\"submitTwo\"\r\n                >\r\n                  S U B M I T\r\n                </button>\r\n                <div>{renderInfoTwo}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {isOne && isTwo && (\r\n          <div style={divCenterStyle}>\r\n            <Link\r\n              to={{\r\n                pathname: `/BattleEnd`,\r\n                search: `?user1=${playerOne.name}&user2=${playerTwo.name}`,\r\n                state: {\r\n                  playerOne,\r\n                  playerTwo,\r\n                },\r\n              }}\r\n            >\r\n              <button className=\"battle_btn\">Battle</button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n//Battle\r\nclass Battle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playerOne: {}, //存储第一个数据\r\n      playerTwo: {}, //存储第二个数据\r\n    };\r\n  }\r\n  //通过参数设置存储第一个数据\r\n  setPlayerOne = (oneData) => {\r\n    this.setState({\r\n      playerOne: oneData,\r\n    });\r\n  };\r\n  setPlayerTwo = (twoData) => {\r\n    this.setState({\r\n      playerTwo: twoData,\r\n    });\r\n  };\r\n  render() {\r\n    const { playerOne, playerTwo } = this.state;\r\n    return (\r\n      <div>\r\n        <BattleBegin\r\n          setPlayerOne={this.setPlayerOne}\r\n          setPlayerTwo={this.setPlayerTwo}\r\n          playerOne={playerOne}\r\n          playerTwo={playerTwo}\r\n        ></BattleBegin>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}