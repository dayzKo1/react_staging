{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react-staging\\\\my-app\\\\src\\\\pages\\\\BattleResult\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \".index.css\";\nimport Card from \"./components/Card\"; //比较结果展示\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BattleEnd extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playerOne: {\n        owner: {\n          avatar_url: \"\"\n        },\n        stargazers_count: 0\n      },\n      playerTwo: {\n        owner: {\n          avatar_url: \"\"\n        },\n        stargazers_count: 0\n      },\n      winner: \"\"\n    };\n    this.resetTo = this.resetTo.bind(this);\n    this.fetchGet = this.fetchGet.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGet();\n  }\n\n  async fetchGet() {\n    // console.log(this.props);\n    let playerOne = {};\n    let playerTwo = {};\n\n    if (this.props.location.state) {\n      console.log(this.props.location.state);\n      playerOne = this.props.location.state.playerOne;\n      playerTwo = this.props.location.state.playerTwo;\n    } else {\n      let obj = {};\n\n      if (window.location.href.includes(\"?\")) {\n        let arr = window.location.href.split(\"?\")[1].split(\"&\");\n\n        for (let i = 0; i < arr.length; i++) {\n          let res = arr[i].split(\"=\");\n          obj[res[0]] = res[1];\n        }\n      }\n\n      const {\n        user1,\n        user2\n      } = obj;\n      const urlOne = `https://api.github.com/search/repositories?q=${user1}`;\n      const urlTwo = `https://api.github.com/search/repositories?q=${user2}`;\n      const resOne = await axios.get(urlOne);\n      const resTwo = await axios.get(urlTwo);\n      playerOne = resOne.data.items[0];\n      playerTwo = resTwo.data.items[0];\n    }\n\n    let winner = \"\";\n\n    if (playerOne.stargazers_count > playerTwo.stargazers_count) {\n      winner = playerOne.name;\n    } else if (playerOne.stargazers_count < playerTwo.stargazers_count) {\n      winner = playerTwo.name;\n    }\n\n    this.setState({\n      winner,\n      playerOne,\n      playerTwo\n    });\n  }\n\n  resetTo() {\n    this.props.history.push({\n      pathname: \"/Battle\"\n    });\n  }\n\n  render() {\n    const {\n      playerOne,\n      playerTwo,\n      winner\n    } = this.state;\n    const divCenterStyle = {\n      textAlign: \"center\"\n    };\n    const battleCardStyle = {\n      justifyContent: \"space-around\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container_end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: battleCardStyle,\n          className: \"d-flex flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            listNum: winner === playerOne.name ? \"Winner\" : winner === \"\" ? \"Draw\" : \"Loser\",\n            name: playerOne.name,\n            avatar: playerOne.owner.avatar_url,\n            starsCount: playerOne.stargazers_count,\n            forksCount: playerOne.forks_count,\n            openIssuesCount: playerOne.open_issues_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            listNum: winner === playerTwo.name ? \"Winner\" : winner === \"\" ? \"Draw\" : \"Loser\",\n            name: playerTwo.name,\n            avatar: playerTwo.owner.avatar_url,\n            starsCount: playerTwo.stargazers_count,\n            forksCount: playerTwo.forks_count,\n            openIssuesCount: playerTwo.open_issues_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: divCenterStyle,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.resetTo,\n          className: \"reget_btn\",\n          children: \"Reget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/react-staging/my-app/src/pages/BattleResult/index.jsx"],"names":["React","Component","axios","Card","BattleEnd","constructor","props","state","playerOne","owner","avatar_url","stargazers_count","playerTwo","winner","resetTo","bind","fetchGet","componentDidMount","location","console","log","obj","window","href","includes","arr","split","i","length","res","user1","user2","urlOne","urlTwo","resOne","get","resTwo","data","items","name","setState","history","push","pathname","render","divCenterStyle","textAlign","battleCardStyle","justifyContent","forks_count","open_issues_count"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\"\r\nimport axios from \"axios\";\r\n\r\nimport \".index.css\";\r\nimport Card from \"./components/Card\";\r\n\r\n//比较结果展示\r\nexport default class BattleEnd extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playerOne: {\r\n        owner: {\r\n          avatar_url: \"\",\r\n        },\r\n        stargazers_count: 0,\r\n      },\r\n      playerTwo: {\r\n        owner: {\r\n          avatar_url: \"\",\r\n        },\r\n        stargazers_count: 0,\r\n      },\r\n      winner: \"\",\r\n    };\r\n    this.resetTo = this.resetTo.bind(this);\r\n    this.fetchGet = this.fetchGet.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.fetchGet();\r\n  }\r\n  async fetchGet() {\r\n    // console.log(this.props);\r\n    let playerOne = {}\r\n    let playerTwo = {}\r\n    if (this.props.location.state) {\r\n      console.log(this.props.location.state);\r\n      playerOne = this.props.location.state.playerOne;\r\n      playerTwo = this.props.location.state.playerTwo\r\n    } else {\r\n      let obj = {};\r\n      if (window.location.href.includes(\"?\")) {\r\n        let arr = window.location.href.split(\"?\")[1].split(\"&\");\r\n        for (let i = 0; i < arr.length; i++) {\r\n          let res = arr[i].split(\"=\");\r\n          obj[res[0]] = res[1];\r\n        }\r\n      }\r\n      const { user1, user2 } = obj;\r\n      const urlOne = `https://api.github.com/search/repositories?q=${user1}`;\r\n      const urlTwo = `https://api.github.com/search/repositories?q=${user2}`;\r\n      const resOne = await axios.get(urlOne);\r\n      const resTwo = await axios.get(urlTwo);\r\n      playerOne = resOne.data.items[0];\r\n      playerTwo = resTwo.data.items[0];\r\n    }\r\n    let winner = \"\";\r\n    if (playerOne.stargazers_count > playerTwo.stargazers_count) {\r\n      winner = playerOne.name;\r\n    } else if (playerOne.stargazers_count < playerTwo.stargazers_count) {\r\n      winner = playerTwo.name;\r\n    }\r\n    this.setState({\r\n      winner,\r\n      playerOne,\r\n      playerTwo,\r\n    });\r\n  }\r\n  resetTo() {\r\n    this.props.history.push({ pathname: \"/Battle\" });\r\n  }\r\n  render() {\r\n    const { playerOne, playerTwo, winner } = this.state;\r\n    const divCenterStyle = {\r\n      textAlign: \"center\",\r\n    };\r\n    const battleCardStyle = {\r\n      justifyContent: \"space-around\",\r\n    };\r\n    return (\r\n      <div className=\"container_end\">\r\n        <div>\r\n          <ul style={battleCardStyle} className=\"d-flex flex-wrap\">\r\n            <Card\r\n              listNum={\r\n                winner === playerOne.name\r\n                  ? \"Winner\"\r\n                  : winner === \"\"\r\n                  ? \"Draw\"\r\n                  : \"Loser\"\r\n              }\r\n              name={playerOne.name}\r\n              avatar={playerOne.owner.avatar_url}\r\n              starsCount={playerOne.stargazers_count}\r\n              forksCount={playerOne.forks_count}\r\n              openIssuesCount={playerOne.open_issues_count}\r\n            ></Card>\r\n            <Card\r\n              listNum={\r\n                winner === playerTwo.name\r\n                  ? \"Winner\"\r\n                  : winner === \"\"\r\n                  ? \"Draw\"\r\n                  : \"Loser\"\r\n              }\r\n              name={playerTwo.name}\r\n              avatar={playerTwo.owner.avatar_url}\r\n              starsCount={playerTwo.stargazers_count}\r\n              forksCount={playerTwo.forks_count}\r\n              openIssuesCount={playerTwo.open_issues_count}\r\n            ></Card>\r\n          </ul>\r\n        </div>\r\n        <div style={divCenterStyle}>\r\n          <button onClick={this.resetTo} className=\"reget_btn\">\r\n            Reget\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}